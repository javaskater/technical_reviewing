# The [GitHub](https://github.com/PacktPublishing/Spring-Boot-3.0-Cookbook) resources
* What we need at the [start of the Recipe](https://github.com/PacktPublishing/Spring-Boot-3.0-Cookbook/tree/main/chapter5/recipe5-2/start/footballpg)
* The [result we expect](https://github.com/PacktPublishing/Spring-Boot-3.0-Cookbook/tree/main/chapter5/recipe5-2/end/footballpg) at the end of the Recipe
# 193
* at the start of the Recipe we are at the point end of the previous RECIPE
  * Recipe 51 was using *org.springframework.jdbc.core.JdbcTemplate*
  * Recipe 52 is using *org.springframework.jdbc.core.simple.JdbcClient*
# 194
## getting the List
* after having developped the getPlayers method of the PlayerService class
  * I immediately write the corresponding test !!!
  * if the column names are not the same as the attribute names
  * in the queryMethod we pass a [RowMapper Object](https://www.baeldung.com/spring-jdbc-jdbctemplate#3-mapping-query-results-to-java-object) see  this [Baeldung Post](https://www.baeldung.com/spring-6-jdbcclient-api#1-support-positional-parameters-implicitly)!!! 
* the advantage of unit-testing immediatly is that I detect RunTime errors like 
> bad SQL grammar [select * FROM players where id = :id]
* In fact for getPlayers there id no id to pass
* From the players table column names to the Player object attribute names, for each *column_name/attributeName* By default (No RowMapper needed) we pass: 
  * from the Snake case
  * to the Camel Case corresponding notation
## Getting a specific Player
* same as the preceding + a specific id
## Creating a new Player
* id is auto generated key,  update calls for the value after the update see [this Baeldung Post](https://www.baeldung.com/spring-jdbc-autogenerated-keys#2-using-the-jdbctemplate)
```sql
football=# \d+ players
                                                          Table "public.players"
    Column     |          Type          | Collation | Nullable |             Default              | Storage  | Stats target | Description 
---------------+------------------------+-----------+----------+----------------------------------+----------+--------------+-------------
 id            | integer                |           | not null | generated by default as identity | plain    |              | 
 jersey_number | integer                |           |          |                                  | plain    |              | 
 name          | character varying(255) |           |          |                                  | extended |              | 
 position      | character varying(255) |           |          |                                  | extended |              | 
 date_of_birth | date                   |           |          |                                  | plain    |              | 
 team_id       | integer                |           |          |                                  | plain    |              | 
Indexes:
    "players_pkey" PRIMARY KEY, btree (id)
Foreign-key constraints:
    "fk_players_teams" FOREIGN KEY (team_id) REFERENCES teams(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap
```
### launching the test and checking the database
* TODO
## testing the controller using curl

### Testing the createPlayer
* curl command
* checking the database

